" ~/.vimrc
" for initial setup see https://github.com/junegunn/vim-plug

set autoindent
set backspace=indent,eol,start
set cursorline
set errorbells
set history=1000
set hlsearch
set ignorecase
set incsearch
set laststatus=2
set modelines=1
set mousehide
set nowrap
set number
set scrolloff=5
set showbreak="+++ "
set showmatch
set smartcase
set termguicolors
set wildignore=*.jpg,*.png,*.gif,*.pdf,*.pyc
set wildmenu
set wildmode=list:longest,full
set wrapmargin=8

" gui options & font
set antialias
set enc=utf-8
set guifont=Monaco:h13

" keyboard mappings
map V {!}par}jz.
map <F2> /\(^>.*\\|\.\.\.\\|:\.\.\\|\.\.:\)/<CR>
map <F3> mtj!?:$<CR>register-time<CR>'t
map <F4> :r!now<CR>

" make shift-insert work like in xterm
map <S-Insert> <MiddleMouse>
map! <S-Insert> <MiddleMouse>

" enable filetype includes & syntax
filetype on
filetype plugin on
filetype indent on
syntax on

" language preferences
autocmd FileType py	setlocal tabstop=4 shiftwidth=4 expandtab smarttab
autocmd FileType css	setlocal tabstop=2 shiftwidth=2 expandtab smarttab
autocmd FileType html	setlocal tabstop=2 shiftwidth=2 expandtab smarttab

" highlight columns 80+
highlight rightMargin term=bold ctermfg=blue guifg=blue
match rightMargin /.\%>81v/

" plugins
call plug#begin()
Plug 'airblade/vim-gitgutter'
Plug 'chriskempson/base16-vim'
Plug 'itchyny/lightline.vim'
Plug 'junegunn/fzf'
Plug 'junegunn/fzf.vim'
Plug 'junegunn/goyo.vim'
Plug 'junegunn/limelight.vim'
Plug 'preservim/nerdtree'
Plug 'tpope/vim-vinegar'
call plug#end()

" goyo & limelight integration
" see https://github.com/junegunn/limelight.vim
autocmd! User GoyoEnter Limelight
autocmd! User GoyoLeave Limelight!

" set base16 colors, see https://github.com/FabioAntunes/base16-fish-shell
if filereadable(expand("~/.vimrc_background"))
  let base16colorspace=256
  source ~/.vimrc_background
endif

" fzf plugin shortcuts, see https://github.com/junegunn/fzf
nnoremap <C-t> :Files<CR>
nnoremap ; :Rg<CR>

" nerdtree integration, see https://github.com/preservim/nerdtree
nnoremap <C-n> :NERDTreeToggle<CR>
nnoremap <C-f> :NERDTreeFind<CR>
